<!DOCTYPE html>
<html lang="da">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Stress - Tr√∏stMig.dk</title>
    
    <!-- VIGTIG: Central TTS konfiguration -->
    <script src="tts-config.js"></script>
    
    <style>
        * {
            margin: 0;
            padding: 0;
            box-sizing: border-box;
        }

        :root {
            --bg-primary: #f8f9fa;
            --bg-secondary: #ffffff;
            --text-primary: #2d3748;
            --text-secondary: #718096;
            --accent: #7c3aed;
            --accent-hover: #6d28d9;
            --border: #e2e8f0;
            --shadow: rgba(0, 0, 0, 0.1);
            --stress-color: #f59e0b;
            --calm-color: #10b981;
        }

        [data-theme="dark"] {
            --bg-primary: #1a202c;
            --bg-secondary: #2d3748;
            --text-primary: #f7fafc;
            --text-secondary: #cbd5e0;
            --accent: #9f7aea;
            --accent-hover: #b794f4;
            --border: #4a5568;
            --stress-color: #fbbf24;
            --calm-color: #34d399;
        }

        body {
            font-family: -apple-system, BlinkMacSystemFont, 'Segoe UI', 'Roboto', sans-serif;
            background: var(--bg-primary);
            color: var(--text-primary);
            min-height: 100vh;
            transition: all 0.3s ease;
        }

        /* Welcome Screen */
        .welcome-screen {
            position: fixed;
            top: 0;
            left: 0;
            right: 0;
            bottom: 0;
            background: var(--bg-primary);
            display: flex;
            align-items: center;
            justify-content: center;
            z-index: 1000;
            opacity: 1;
            transition: opacity 1s ease;
        }

        .welcome-screen.hidden {
            opacity: 0;
            pointer-events: none;
        }

        .welcome-message {
            max-width: 700px;
            padding: 40px;
            text-align: center;
            font-size: 1.5rem;
            line-height: 1.8;
            color: var(--text-primary);
            animation: fadeIn 2s ease;
        }

        @keyframes fadeIn {
            from { opacity: 0; transform: translateY(20px); }
            to { opacity: 1; transform: translateY(0); }
        }

        @keyframes breathe {
            0%, 100% { transform: scale(1); background: var(--accent); }
            50% { transform: scale(1.2); background: var(--calm-color); }
        }

        .skip-intro {
            position: absolute;
            bottom: 30px;
            right: 30px;
            background: var(--bg-secondary);
            border: 1px solid var(--border);
            color: var(--text-secondary);
            padding: 8px 16px;
            border-radius: 20px;
            cursor: pointer;
            font-size: 0.9rem;
        }

        /* Navigation */
        .nav-header {
            position: fixed;
            top: 0;
            left: 0;
            right: 0;
            background: var(--bg-secondary);
            border-bottom: 1px solid var(--border);
            padding: 20px;
            z-index: 100;
        }

        .nav-content {
            max-width: 1200px;
            margin: 0 auto;
            display: flex;
            justify-content: space-between;
            align-items: center;
        }

        .back-link {
            color: var(--accent);
            text-decoration: none;
            display: flex;
            align-items: center;
            gap: 8px;
        }

        .nav-controls {
            display: flex;
            gap: 10px;
            align-items: center;
        }

        .voice-selector {
            background: var(--bg-primary);
            border: 1px solid var(--border);
            border-radius: 20px;
            padding: 5px 10px;
            font-size: 0.9rem;
            color: var(--text-primary);
        }

        .theme-toggle {
            background: var(--bg-primary);
            border: 1px solid var(--border);
            border-radius: 50px;
            padding: 8px 15px;
            cursor: pointer;
            font-size: 1.2rem;
        }

        /* Main Selection Screen */
        .main-selection {
            display: none;
            padding: 100px 20px 40px;
            max-width: 1200px;
            margin: 0 auto;
        }

        .main-selection.active {
            display: block;
            animation: fadeIn 0.5s ease;
        }

        .selection-header {
            text-align: center;
            margin-bottom: 50px;
        }

        .selection-header h1 {
            font-size: 2.5rem;
            margin-bottom: 10px;
            background: linear-gradient(135deg, #f59e0b 0%, #dc2626 100%);
            -webkit-background-clip: text;
            -webkit-text-fill-color: transparent;
        }

        .selection-grid {
            display: grid;
            grid-template-columns: repeat(auto-fit, minmax(300px, 1fr));
            gap: 30px;
            margin-bottom: 40px;
        }

        .selection-card {
            background: var(--bg-secondary);
            border: 2px solid var(--border);
            border-radius: 20px;
            padding: 30px;
            cursor: pointer;
            transition: all 0.3s ease;
            text-align: center;
        }

        .selection-card:hover {
            transform: translateY(-5px);
            box-shadow: 0 10px 30px var(--shadow);
            border-color: var(--accent);
        }

        .selection-card.urgent {
            border-color: #ef4444;
        }

        .selection-icon {
            font-size: 3rem;
            margin-bottom: 20px;
        }

        .selection-title {
            font-size: 1.5rem;
            margin-bottom: 10px;
            color: var(--text-primary);
        }

        .selection-description {
            color: var(--text-secondary);
            line-height: 1.6;
            margin-bottom: 15px;
        }

        .time-badge {
            display: inline-block;
            background: var(--accent);
            color: white;
            padding: 5px 15px;
            border-radius: 20px;
            font-size: 0.9rem;
        }

        /* Script Display Screen */
        .script-display {
            display: none;
            position: fixed;
            top: 0;
            left: 0;
            right: 0;
            bottom: 0;
            background: var(--bg-primary);
            z-index: 500;
        }

        .script-display.active {
            display: flex;
            flex-direction: column;
        }

        .script-text {
            flex: 1;
            display: flex;
            align-items: center;
            justify-content: center;
            padding: 40px;
            overflow-y: auto;
        }

        .script-content {
            max-width: 800px;
            font-size: 1.3rem;
            line-height: 2;
            color: var(--text-primary);
            animation: fadeIn 0.5s ease;
        }

        /* Auto-play indicator */
        .auto-play-status {
            position: fixed;
            top: 80px;
            right: 20px;
            background: var(--bg-secondary);
            padding: 10px 20px;
            border-radius: 20px;
            display: flex;
            align-items: center;
            gap: 10px;
        }

        .status-dot {
            width: 10px;
            height: 10px;
            border-radius: 50%;
            background: var(--calm-color);
            animation: pulse 2s infinite;
        }

        @keyframes pulse {
            0%, 100% { opacity: 1; }
            50% { opacity: 0.5; }
        }

        /* Breathing Visual */
        .breathing-circle {
            width: 200px;
            height: 200px;
            border: 3px solid var(--accent);
            border-radius: 50%;
            margin: 30px auto;
            display: none;
            animation: breathe 4s ease-in-out infinite;
        }

        .breathing-circle.active {
            display: block;
        }

        /* Controls */
        .controls-bar {
            position: fixed;
            bottom: 30px;
            left: 50%;
            transform: translateX(-50%);
            background: var(--bg-secondary);
            padding: 15px 30px;
            border-radius: 50px;
            box-shadow: 0 5px 20px var(--shadow);
            display: flex;
            gap: 15px;
            align-items: center;
        }

        .control-btn {
            background: var(--accent);
            color: white;
            border: none;
            width: 50px;
            height: 50px;
            border-radius: 50%;
            cursor: pointer;
            display: flex;
            align-items: center;
            justify-content: center;
            font-size: 1.5rem;
            transition: all 0.3s ease;
        }

        .control-btn:hover {
            background: var(--accent-hover);
            transform: scale(1.1);
        }

        .progress-indicator {
            color: var(--text-secondary);
            font-size: 0.9rem;
            padding: 0 10px;
        }

        .close-btn {
            position: absolute;
            top: 20px;
            right: 20px;
            background: var(--bg-secondary);
            border: 1px solid var(--border);
            color: var(--text-primary);
            padding: 10px 20px;
            border-radius: 20px;
            cursor: pointer;
        }

        /* Responsive */
        @media (max-width: 768px) {
            .selection-grid {
                grid-template-columns: 1fr;
            }
            
            .script-content {
                font-size: 1.1rem;
            }
            
            .welcome-message {
                font-size: 1.2rem;
                padding: 20px;
            }
        }
    </style>
</head>
<body>
    <!-- Welcome Screen -->
    <div class="welcome-screen" id="welcomeScreen">
        <div class="welcome-message" id="welcomeText">
            <!-- Welcome message will be inserted here -->
        </div>
        <button class="skip-intro" onclick="skipIntro()">Spring over</button>
    </div>

    <!-- Navigation Header -->
    <div class="nav-header">
        <div class="nav-content">
            <a href="index.html" class="back-link">‚Üê Tilbage til forsiden</a>
            <div class="nav-controls">
                <select class="voice-selector" id="voiceSelector" onchange="changeVoice()">
                    <!-- Voices will be populated -->
                </select>
                <button class="theme-toggle" onclick="toggleTheme()">üåô</button>
            </div>
        </div>
    </div>

    <!-- Main Selection Screen -->
    <div class="main-selection" id="mainSelection">
        <div class="selection-header">
            <h1>Stress</h1>
            <p>Lad os finde ro sammen - √©t √•ndedrag ad gangen</p>
        </div>

        <div class="selection-grid">
            <div class="selection-card urgent" onclick="startSection('akut')">
                <div class="selection-icon">üÜò</div>
                <h2 class="selection-title">Akut stress-relief</h2>
                <p class="selection-description">
                    √òjeblikkelig hj√¶lp n√•r stress overv√¶lder. Hurtige teknikker der virker nu.
                </p>
                <span class="time-badge">2-10 minutter</span>
            </div>

            <div class="selection-card" onclick="startSection('forstaa')">
                <div class="selection-icon">üß†</div>
                <h2 class="selection-title">Forst√• din stress</h2>
                <p class="selection-description">
                    L√¶r hvordan stress p√•virker krop og sind. Viden der giver kontrol.
                </p>
                <span class="time-badge">5-15 minutter</span>
            </div>

            <div class="selection-card" onclick="startSection('haandter')">
                <div class="selection-icon">üõ†Ô∏è</div>
                <h2 class="selection-title">Stress-h√•ndtering</h2>
                <p class="selection-description">
                    Praktiske v√¶rkt√∏jer og √∏velser til at h√•ndtere stress i hverdagen.
                </p>
                <span class="time-badge">5-20 minutter</span>
            </div>

            <div class="selection-card" onclick="startSection('oevelser')">
                <div class="selection-icon">üßò</div>
                <h2 class="selection-title">Guidede √∏velser</h2>
                <p class="selection-description">
                    Afsp√¶nding, vejrtr√¶kning og mindfulness. F√∏lg min stemme.
                </p>
                <span class="time-badge">3-15 minutter</span>
            </div>
        </div>
    </div>

    <!-- Script Display Screen -->
    <div class="script-display" id="scriptDisplay">
        <button class="close-btn" onclick="closeScript()">Luk ‚úï</button>
        
        <!-- Auto-play status -->
        <div class="auto-play-status">
            <div class="status-dot"></div>
            <span>Auto-play aktiv</span>
        </div>

        <!-- Breathing visual -->
        <div class="breathing-circle" id="breathingCircle"></div>
        
        <div class="script-text">
            <div class="script-content" id="scriptContent">
                <!-- Script content will be displayed here -->
            </div>
        </div>
        
        <div class="controls-bar">
            <button class="control-btn" onclick="previousScript()">‚óÄ</button>
            <button class="control-btn" onclick="togglePlay()" id="playBtn">‚è∏</button>
            <button class="control-btn" onclick="nextScript()">‚ñ∂</button>
            <span class="progress-indicator" id="progressIndicator">1 / 10</span>
        </div>
    </div>

    <script>
        // Welcome Messages
        const welcomeMessages = [
            "Hej med dig... Jeg kan m√¶rke du har brug for ro. Lad os tage det stille og roligt sammen.",
            "Velkommen. √òhm... stress er kroppens m√•de at sige 'det er for meget lige nu'. Lad os lytte til den besked sammen.",
            "Hej... Du er her, og det er f√∏rste skridt mod at f√• det bedre. Hmm, jeg er her for at guide dig.",
            "√Öh, m√•ske f√∏les alt kaotisk lige nu. Men vi starter med √©t √•ndedrag. Bare √©t.",
            "Hej der. Din krop er i alarmberedskab. Det er helt normalt. Lad os sammen finde tilbage til ro."
        ];

        // Complete Scripts Database
        const scriptsDatabase = {
            akut: [
                {
                    title: "Stop og tr√¶k vejret",
                    content: "Okay... lige nu, stop alt hvad du laver. Jeg ved det f√∏les som om du ikke har tid, men... √∏h, giv mig bare 2 minutter. Luk √∏jnene hvis du kan. L√¶g en h√•nd p√• maven. Tr√¶k vejret dybt ind gennem n√¶sen... hmm... m√¶rk hvordan maven udvider sig. Hold vejret i 2 sekunder. Og slip langsomt ud gennem munden. Som om du bl√¶ser gennem et suger√∏r. Lad os gentage dette 5 gange sammen. Ind... hold... ud... Ja, s√•dan. Det er det eneste du beh√∏ver at g√∏re lige nu. Alt andet kan vente disse f√• minutter."
                },
                {
                    title: "5-4-3-2-1 grounding",
                    content: "Stress f√•r alt til at k√∏re for hurtigt, ikke? Lad os bremse op sammen. Find 5 ting du kan se lige nu. Sig dem h√∏jt eller i hovedet. Hmm... nu fire ting du kan r√∏re ved - m√¶rk deres tekstur. Tre lyde du kan h√∏re - ogs√• de sm√•. √òh... to ting du kan dufte - eller husk to dufte du elsker. Og √©n ting du kan smage. Dette bringer dig tilbage til nuet, hvor du faktisk er sikker, hvor alt faktisk er okay lige nu."
                },
                {
                    title: "Sp√¶nd og slip",
                    content: "Stress skaber sp√¶nding i hele kroppen. Lad os slippe den nu. L√∏ft skuldrene helt op til √∏rerne. Sp√¶nd s√• h√•rdt du kan. Hold i 5 sekunder... 4... 3... 2... 1... Slip! Lad skuldrene falde helt ned. M√¶rk forskellen. Nu h√¶nderne. Knyt dem h√•rdt... virkelig h√•rdt... hold... og slip. Lad h√¶nderne √•bne sig naturligt. Til sidst ansigtet. Rynk panden, sp√¶nd k√¶ben, luk √∏jnene h√•rdt... hold alt sp√¶ndt... og slip. Lad hele ansigtet blive bl√∏dt. Denne simple √∏velse sender signal til nervesystemet: vi er sikre nu."
                },
                {
                    title: "Tankestop-teknik",
                    content: "Hmm, dine tanker k√∏rer i ring, ikke sandt? De samme bekymringer igen og igen. Lad os stoppe dem. N√•r du m√¶rker tankespiralen, sig h√∏jt eller indeni: 'STOP!' Klap i h√¶nderne hvis du kan. Skift s√• fokus √∏jeblikkeligt - t√¶l bagl√¶ns fra 100 med 7 ad gangen. 100... 93... 86... Dette er sv√¶rt nok til at din hjerne m√• skifte spor. Efter et minut vil du m√¶rke at intensiteten er faldet. Tankerne har mistet deres greb."
                },
                {
                    title: "Kold vand reset",
                    content: "N√•r stress er akut, har vi brug for hurtig hj√¶lp. G√• til h√•ndvasken. Tag koldt vand i h√¶nderne og skyl ansigtet. Hold de kolde h√¶nder mod kinderne. Dette aktiverer din vagusnerve - kroppens beroligelsesnerve. Hvis du ikke kan g√• til en vask, tag en kold drik. Hold den mod puls√•ren p√• h√•ndleddet. Kulde s√¶nker √∏jeblikkeligt dit alarmniveau. Det er ren biologi, og det virker hver gang."
                },
                {
                    title: "Sikker base visualisering",
                    content: "Luk √∏jnene et √∏jeblik. Forestil dig et sted hvor du er fuldst√¶ndig tryg og rolig. M√•ske et sted fra din barndom, m√•ske et sted i naturen. Se alle detaljerne - farverne, lyset. H√∏r lydene - m√•ske b√∏lger, vind i tr√¶er, stilhed. M√¶rk temperaturen p√• din hud. Duftene omkring dig. G√• rundt p√• dette sted i dit sind. Du kan altid vende tilbage hertil n√•r stress overv√¶lder. Det er dit mentale fristed."
                },
                {
                    title: "Akut stress er midlertidigt",
                    content: "Lige nu f√∏les det som om denne stress aldrig stopper. Men lyt til mig: Ingen stressreaktion varer evigt. Rent fysiologisk kan din krop ikke opretholde dette niveau. Kortisol og adrenalin vil falde. Det sker automatisk. Ligesom du ikke kan holde vejret for evigt, kan du ikke forblive p√• dette stressniveau. Giv det 20 minutter. Bare overlev de n√¶ste 20 minutter. Stress-b√∏lgen vil toppe og s√• falde. Det g√∏r den altid."
                },
                {
                    title: "√ân ting ad gangen",
                    content: "√òh, stress kommer n√•r alt skal ske p√• √©n gang. Men lyt: Du kan kun g√∏re √©n ting ad gangen alligevel. Hvad er DET MEST presserende lige nu? Ikke de n√¶ste 10 ting - kun den ene. Fokuser kun p√• den. Alt andet eksisterer ikke de n√¶ste 10 minutter. Skriv de andre ting ned hvis det hj√¶lper - s√• glemmer du dem ikke. Men lige nu: Kun √©n ting. N√•r den er gjort, s√• v√¶lger vi den n√¶ste. √ân efter √©n. S√•dan kommer du igennem."
                },
                {
                    title: "Din krop pr√∏ver at hj√¶lpe",
                    content: "Hjertet hamrer, du sveder, maven vender sig. Det f√∏les forf√¶rdeligt, men... hmm... din krop pr√∏ver faktisk at hj√¶lpe dig. Den forbereder dig p√• handling - fight or flight. Problemet er bare at moderne stress ikke kan l√∏ses ved at l√∏be eller sl√•s. Sig til din krop: 'Tak for at du pr√∏ver at beskytte mig. Men jeg er ikke i fysisk fare.' L√¶g h√•nden p√• hjertet. 'Vi er sikre. Du kan slappe af nu.' Gentag det. Din krop lytter."
                },
                {
                    title: "Stress-pause ritual",
                    content: "Lad os lave en 3-minutters stress-pause. Stil en timer. De n√¶ste 3 minutter har du fri fra alle bekymringer. De venter p√• dig bagefter hvis du vil have dem tilbage. Men lige nu: St√• op. Ryst hele kroppen - som en hund der har v√¶ret i vand. Slap af. Tag 5 dybe vejrtr√¶kninger. Drik et glas vand langsomt. Kig ud af vinduet. Timer ringer. Du kan nu v√¶lge: Vil du tage stressen tilbage, eller lade den ligge?"
                }
            ],
            
            forstaa: [
                {
                    title: "Hvad er stress egentlig?",
                    content: "Okay, s√•... stress er faktisk ikke din fjende. Det er din krops m√•de at hj√¶lpe dig p√•. Hmm... n√•r du m√∏der en udfordring - en deadline, en konflikt, √∏h, en trussel - s√• aktiverer din krop et urgammelt overlevelsessystem. Hypothalamus sender signal til binyrerne. Adrenalin og kortisol pumpes ud. Dit hjerte sl√•r hurtigere for at sende blod til musklerne. Du bliver skarpere, hurtigere, st√¶rkere. I stenalderen reddede dette system vores forf√¶dres liv. Problemet i dag? Tja... systemet kan ikke skelne mellem en l√∏ve og en sur email. Det reagerer ens."
                },
                {
                    title: "Kortisol - stresshormonet",
                    content: "Kortisol kaldes stresshormonet, men det er faktisk livsn√∏dvendigt. Om morgenen stiger dit kortisol naturligt - det v√¶kker dig, giver energi til dagen. Ved stress stiger det ekstra for at mobilisere energi. Hmm, kortisol frig√∏r sukker til blodet s√• du har br√¶ndstof. Det d√¶mper inflammation midlertidigt. Det sk√¶rper din hukommelse for vigtige detaljer. Problemet opst√•r n√•r kortisol forbliver forh√∏jet. S√• begynder det at nedbryde muskler for energi. Det sv√¶kker immunforsvaret. Det forstyrrer s√∏vnen."
                },
                {
                    title: "Fight, flight eller freeze",
                    content: "Du kender m√•ske 'fight or flight' - kamp eller flugt. Men der er faktisk tre reaktioner. Fight: Du bliver vred, konfronterende, k√¶mper imod. Flight: Du vil v√¶k, undg√•r, flygter fra situationen. Freeze: Du fryser, kan ikke handle, bliver paralyseret. Alle tre er normale, evolution√¶re reaktioner. Ingen er 'forkerte'. Din krop v√¶lger automatisk baseret p√• situationen og dine tidligere erfaringer. Hvis du ofte 'fryser', er det ikke svaghed - det er din krops m√•de at overleve p√•."
                },
                {
                    title: "Hvorfor bliver jeg stresset af sm√•ting?",
                    content: "Hmm, m√•ske bliver du stresset af at v√¶lge t√∏j, sm√• beslutninger, eller n√•r nogen ringer. Det virker urimeligt, ikke? Men din hjerne har en begr√¶nset kapacitet for stress. Forestil dig et glas vand. Store stressorer fylder meget - arbejdspres, √∏konomi, relationer. N√•r glasset n√¶sten er fyldt, er der kun plads til dr√•ber. S√• bliver selv sm√• ting 'dr√•ben der f√•r b√¶geret til at flyde over'. Det er ikke sm√•tingene der er problemet. Det er at glasset allerede var fyldt."
                },
                {
                    title: "Stress og din hjerne",
                    content: "Stress √¶ndrer bogstaveligt din hjerne. Ved akut stress: Amygdala - alarmcentret - bliver hyperaktiv. Pr√¶frontal cortex - den rationelle del - g√•r offline. Derfor kan du ikke 't√¶nke klart' n√•r du er stresset. Ved kronisk stress sker der fysiske √¶ndringer: Hippocampus - hukommelsescentret - kan skrumpe. Forbindelser mellem hjerneceller sv√¶kkes. Men her er det fantastiske: Hjernen har neuroplasticitet. Den kan hele og gendanne sig."
                },
                {
                    title: "Godt stress vs d√•rligt stress",
                    content: "Ikke al stress er d√•rlig. 'Eustress' er positivt stress - den sp√¶nding du f√∏ler f√∏r noget godt. Et bryllup, en pr√¶sentation du gl√¶der dig til, at starte nyt job. Dette stress giver energi og fokus. 'Distress' er negativt - n√•r kravene overstiger dine ressourcer. N√•r du ikke f√•r pauser. N√•r det f√∏les meningsl√∏st. Forskellen er ofte: Kontrol - har du indflydelse? Mening - giver det v√¶rdi? Tidsbegr√¶nset - er der en ende?"
                },
                {
                    title: "Stress-symptomer i kroppen",
                    content: "√òh, stress viser sig overalt i kroppen, ikke kun i hovedet. Muskler: Sp√¶nding, is√¶r nakke, skuldre, k√¶be. Mave: 'Sommerfugle', kvalme, ford√∏jelsesproblemer. Hjerte: Hjertebanken, brystsmerte - altid tjek med l√¶ge. Hud: Udbrud, eksem, psoriasis kan forv√¶rres. Immunsystem: Flere fork√∏lelser, langsommere heling. S√∏vn: Insomni eller for meget s√∏vn. Appetit: Spise for meget eller miste appetit."
                },
                {
                    title: "Stress-s√•rbarheden",
                    content: "Nogle er mere s√•rbare over for stress. Det er ikke svaghed - det er biologi og erfaring. Faktorer der √∏ger s√•rbarhed: Genetik - 40% arveligt. Tidlige oplevelser - ustabil barndom. Temperament - h√∏jsensitiv. Tidligere traumer. Mangel p√• st√∏tte. D√•rlig s√∏vn eller kost. Men s√•rbarhed er ikke sk√¶bne. Du kan bygge resiliens: St√¶rke relationer beskytter. Mestringsstrategier l√¶res. Fysisk sundhed hj√¶lper."
                },
                {
                    title: "Stress smitter",
                    content: "Vidste du at stress kan smitte? N√•r du er omkring stressede mennesker, reagerer dit nervesystem. Spejlneuroner f√•r dig til at 'spejle' andres tilstand. Kortisol kan m√•les h√∏jere efter at v√¶re sammen med stressede personer. Dette er evolution√¶rt smart - hvis andre i flokken er alarmerede, er der m√•ske fare. Men i moderne liv betyder det at √•bent kontormilj√∏, stresset familie, eller bare sociale medier kan stresse dig."
                },
                {
                    title: "Kvinder og m√¶nd reagerer forskelligt",
                    content: "Hmm, forskning viser k√∏nsforskelle i stress-reaktioner. M√¶nd aktiverer oftere 'fight or flight'. Kvinder aktiverer ofte 'tend and befriend' - de s√∏ger sociale forbindelser, passer p√• andre. Hormonelt: √òstrogen og oxytocin modererer stress hos kvinder. Testosteron kan forv√¶rre stress-aggression hos m√¶nd. Socialt: M√¶nd l√¶rer ofte at h√•ndtere stress alene. Kvinder s√∏ger oftere st√∏tte - hvilket faktisk er sundere."
                }
            ],
            
            haandter: [
                {
                    title: "Lav din stress-f√∏rste-hj√¶lps-kasse",
                    content: "Lige som du har plaster og panodil derhjemme, skal du have en stress-f√∏rste-hj√¶lps-kasse. Find en lille taske eller √¶ske. Put i: En lavendel-duft eller √¶terisk olie. Et foto der g√∏r dig glad. En lille notesbog til tanke-dump. √òrepropper eller h√∏retelefoner. En stressbold eller fidget-ting. Te-breve - kamille, passionsblomst. Et citat eller mantra der hj√¶lper dig. Favoritmusik p√• telefonen. Placer kassen et let tilg√¶ngeligt sted."
                },
                {
                    title: "Morgenrutine mod stress",
                    content: "Hvordan du starter dagen s√¶tter tonen. En stress-pr√¶ventiv morgen: V√•gn samme tid hver dag - ogs√• weekends. Undg√• telefon f√∏rste 30 min. Start med 5 dybe vejrtr√¶kninger i sengen. Drik et glas vand f√∏r kaffe. 5 min let str√¶k eller yoga. Spis morgenmad uden multitasking. S√¶t √©n intention for dagen - ikke 10. Dette tager m√•ske 30 min ekstra, men sparer timer af stress."
                },
                {
                    title: "Arbejdsdag stress-hacks",
                    content: "Sm√• tricks der g√∏r stor forskel p√• arbejdet: Pomodoro: 25 min fokus, 5 min pause. Gentag. To-minut regel: Kan det g√∏res p√• 2 min? G√∏r det nu. Ellers planl√¶g det. Email-batching: Tjek mail 3 faste tidspunkter, ikke konstant. Walking meetings: Foresl√• at g√• mens I taler. Mikro-pauser: 30 sek √∏jenhvile hver time. Ingen perfektion: 80% er nok. Start med det sv√¶reste n√•r du har mest energi."
                },
                {
                    title: "Nej er et komplet s√¶tning",
                    content: "At sige nej er en stress-superkraft. Men det er sv√¶rt, ikke? Vi vil ikke skuffe, virke uh√∏flige, misse muligheder. Men hver gang du siger ja til noget, siger du nej til noget andet - ofte til dig selv. √òv dig: Start med sm√• nej. 'Nej tak, jeg drikker ikke mere kaffe.' Brug sandwich-metoden: 'Det lyder sp√¶ndende, men jeg kan desv√¶rre ikke, held og lykke med det.' K√∏b tid: 'Lad mig lige tjekke kalenderen og vende tilbage.'"
                },
                {
                    title: "Stress-journaling der virker",
                    content: "Skriv stress ud af systemet. Men ikke tilf√¶ldig ventilering - struktureret: Morgen: 3 sider stream-of-consciousness. Bare skriv uden at t√¶nke. F√• tankemylder ud. Middag: Quick check-in. Stress-niveau 1-10? Hvad triggede? Aften: 3 taknemmeligheder + 1 'win' fra dagen. Weekend: Ugens stress-m√∏nstre. Hvad gentog sig? Hvad hjalp? Skriv i h√•nden hvis muligt - det processor dybere end typing."
                },
                {
                    title: "Byg stress-buffere ind",
                    content: "Stress forv√¶rres n√•r alt er planlagt til sidste sekund. Byg buffere: Tid-buffere: 15 min mellem m√∏der. 30 min margin til transport. Energi-buffere: Plan kun 80% af dagen. 20% til uventede. Mentale buffere: Pause mellem forskellige opgavetyper. Emotionelle buffere: Dekompressionstid mellem arbejde og hjem. Fysiske buffere: Snacks, vand, komfort-ting tilg√¶ngelige."
                },
                {
                    title: "Deleg√©r eller d√∏ (n√¶sten)",
                    content: "Du pr√∏ver at g√∏re alt selv. Det er uholdbart. L√¶r at delegere: Identificer: Hvad KAN andre g√∏re? Mere end du tror. Hvad SKAL kun du g√∏re? Mindre end du tror. Match: Hvem er god til hvad? Hvem har tid? Hvem vil l√¶re? Instruer klart: Hvad skal g√∏res? Hvorn√•r? Hvilket resultat? Slip kontrollen: 80% godt nok er ofte fint. Perfektionisme er stress-g√∏dning."
                },
                {
                    title: "Weekend stress-detox",
                    content: "Weekenden skal v√¶re restitution, ikke mere stress. Design din stress-detox: Fredag aften: Symbolsk 'luk arbejdet'. Sluk computer, l√¶g telefon v√¶k. L√∏rdag: Ingen alarm. V√•gn naturligt. G√∏r noget kreativt/fysisk. Natur hvis muligt. S√∏ndag: Forbered ugen UDEN stress. T√∏j klar, madplan, kalender-overblik. Men ogs√•: Hygge-tid, ingen forpligtelser sidste timer."
                },
                {
                    title: "Stress-kommunikation",
                    content: "At tale om stress er sv√¶rt men n√∏dvendigt. S√•dan g√∏r du: Med chef: 'Jeg oplever h√∏jt stress-niveau. Kan vi prioritere mine opgaver?' Ikke: 'Jeg kan ikke klare det.' Med partner: 'Jeg er stresset og har brug for st√∏tte.' Ikke: 'Du forst√•r mig aldrig.' Med dig selv: 'Dette er midlertidigt. Jeg finder l√∏sninger.' Ikke: 'Jeg er en fiasko.' V√¶r specifik: Hvad stresser? Hvad hj√¶lper?"
                },
                {
                    title: "Teknologi-stress management",
                    content: "Telefonen er b√•de stress-kilde og potentiel hj√¶lper. G√∏r den til allieret: Sl√• notifikationer fra - undtagen kritiske. Brug 'Do Not Disturb' aktivt. Slet apps der stresser - nyheder, sociale medier? Installer hj√¶lpe-apps: Meditation, white noise, p√•mindelser om pauser. Lav telefon-fri zoner: Sovev√¶relse, spisebord. Screen-time limits p√• tidssluger-apps."
                }
            ],
            
            oevelser: [
                {
                    title: "4-7-8 vejrtr√¶kning komplet",
                    content: "Lad os lave den kraftfulde 4-7-8 teknik sammen. Find en behagelig position. Sidder eller ligger, det er ligegyldigt. Hmm, luk √∏jnene hvis det f√∏les trygt. Pust al luften ud gennem munden med en hv√¶sende lyd. [PAUSE 3 SEK] Luk munden. Tr√¶k nu vejret ind gennem n√¶sen mens jeg t√¶ller til 4... 1... 2... 3... 4. [PAUSE 4 SEK] Hold vejret mens jeg t√¶ller til 7... 1... 2... 3... 4... 5... 6... 7. [PAUSE 7 SEK] Pust ud gennem munden med den hv√¶sende lyd mens jeg t√¶ller til 8... 1... 2... 3... 4... 5... 6... 7... 8. [PAUSE 8 SEK] Godt klaret. Dette var √©n cyklus. Lad os lave 3 mere sammen. [GENTAG 3 GANGE MED SAMME TIMING]",
                    type: "exercise",
                    totalDuration: 240000 // 4 minutter total
                },
                {
                    title: "Progressiv muskelafsp√¶nding fuld",
                    content: "Vi skal igennem hele kroppen og slippe sp√¶ndinger. Start med at ligge eller sidde godt. [PAUSE 3 SEK] Vi starter med f√∏dderne. Kr√∏l alle t√¶erne, sp√¶nd f√∏dderne helt... [PAUSE 2 SEK] Hold sp√¶ndingen... 3... 2... 1... [PAUSE 3 SEK] Slip! Lad f√∏dderne blive helt tunge og afslappede. M√¶rk forskellen. [PAUSE 4 SEK] Nu benene. Sp√¶nd l√¶gge og l√•r... virkelig sp√¶nd... [PAUSE 2 SEK] Hold... hold... [PAUSE 3 SEK] Og slip. M√¶rk hvordan benene synker ned. [PAUSE 4 SEK] Videre til maven. Sp√¶nd alle mavemuskler... som om nogen skulle sl√• dig... [PAUSE 2 SEK] Hold... [PAUSE 3 SEK] Og slip alt p√• √©n gang. Lad maven blive bl√∏d. [PAUSE 4 SEK] Nu h√¶nderne. Knyt dem h√•rdt... virkelig h√•rdt... [PAUSE 2 SEK] Hold... [PAUSE 3 SEK] Og slip. Lad h√¶nderne √•bne sig naturligt. [PAUSE 4 SEK] L√∏ft skuldrene op til √∏rerne... [PAUSE 2 SEK] Hold dem deroppe... [PAUSE 3 SEK] Og lad dem falde. Helt ned. [PAUSE 4 SEK] Til sidst ansigtet. Rynk panden, sp√¶nd k√¶ben, luk √∏jnene h√•rdt... [PAUSE 2 SEK] Hold alt sp√¶ndt... [PAUSE 3 SEK] Og slip. Lad hele ansigtet blive bl√∏dt. [PAUSE 5 SEK] M√¶rk nu hvordan hele kroppen hviler tungt og afslappet.",
                    type: "exercise",
                    totalDuration: 480000 // 8 minutter total
                },
                {
                    title: "Body scan meditation",
                    content: "L√¶g dig godt til rette. Vi skal p√• en rejse gennem din krop. [PAUSE 3 SEK] Start med at m√¶rke kontakten til underlaget. Hvor r√∏rer din krop underlaget? [PAUSE 4 SEK] Vi begynder med venstre fod. Bring al din opm√¶rksomhed til venstre fod. [PAUSE 3 SEK] Ikke for at √¶ndre noget, bare m√¶rke. Hvad m√¶rker du? Varme? Kulde? Ingenting er ogs√• fint. [PAUSE 5 SEK] Bev√¶g opm√¶rksomheden op gennem venstre ben... ankel... [PAUSE 3 SEK] l√¶g... [PAUSE 3 SEK] kn√¶... [PAUSE 3 SEK] l√•r. [PAUSE 3 SEK] Bare observer. [PAUSE 4 SEK] Nu h√∏jre fod... samme opm√¶rksomhed... [PAUSE 5 SEK] Op gennem h√∏jre ben. [PAUSE 5 SEK] Videre til b√¶kkenet... [PAUSE 3 SEK] maven... kan du m√¶rke maven bev√¶ge sig med √•ndedr√¶ttet? [PAUSE 5 SEK] Brystkassen... hjertet banker m√•ske... det er okay. [PAUSE 5 SEK] Venstre arm fra fingerspidser til skulder... [PAUSE 5 SEK] H√∏jre arm... [PAUSE 5 SEK] Nakken... [PAUSE 3 SEK] Ansigtet... [PAUSE 3 SEK] Toppen af hovedet. [PAUSE 3 SEK] Nu m√¶rk hele kroppen som helhed. Fra top til t√•. En levende, √•ndende helhed. [PAUSE 10 SEK]",
                    type: "exercise",
                    totalDuration: 600000 // 10 minutter total
                },
                {
                    title: "Stress-shake √∏velse",
                    content: "Dyr ryster stress af sig. Lad os g√∏re det samme. St√• op hvis du kan. [PAUSE 3 SEK] F√∏dderne hoftebredde fra hinanden. [PAUSE 2 SEK] Start med h√¶nderne. Ryst dem l√∏st... som om du ryster vand af dem. [PAUSE 5 SEK] Lad rystelsen brede sig til underarmene... [PAUSE 3 SEK] overarmene... [PAUSE 3 SEK] skuldrene begynder at hoppe med. [PAUSE 3 SEK] Nu overkroppen... lad hofterne komme med... [PAUSE 3 SEK] kn√¶ene b√∏jer og str√¶kker... [PAUSE 3 SEK] hele kroppen ryster nu! [PAUSE 10 SEK] Forestil dig at al stress ryster l√∏s og falder af dig. [PAUSE 10 SEK] 10 sekunder mere... ryst alt hvad du kan... [PAUSE 10 SEK] Og... STOP! [PAUSE 2 SEK] St√• helt stille. [PAUSE 5 SEK] M√¶rk efterd√∏nningerne i kroppen. Vibration, varme, m√•ske prikken. Dette er stress der forlader systemet. [PAUSE 10 SEK]",
                    type: "exercise",
                    totalDuration: 180000 // 3 minutter total
                },
                {
                    title: "Tryg base visualisering",
                    content: "Luk √∏jnene og tag tre dybe vejrtr√¶kninger. [PAUSE 10 SEK] Forestil dig et sted hvor du f√∏ler dig fuldst√¶ndig tryg og rolig. [PAUSE 3 SEK] Det kan v√¶re et virkeligt sted eller fantasisted. [PAUSE 3 SEK] Se dig omkring p√• dette sted. Hvad ser du? [PAUSE 5 SEK] Hvilke farver? Er der tr√¶er, vand, bygninger? [PAUSE 5 SEK] L√¶g m√¶rke til lyset. Er det sollys? M√•neskin? Stearinlys? [PAUSE 5 SEK] Hvad h√∏rer du? M√•ske b√∏lger, vind, fugle, eller fuldst√¶ndig stilhed. [PAUSE 5 SEK] Hvad kan du m√¶rke? Varmen fra solen? En blid brise? Bl√∏dt gr√¶s under f√∏dderne? [PAUSE 5 SEK] Er der dufte? Salt havluft? Blomster? Nybagte boller? [PAUSE 5 SEK] G√• rundt p√• dit trygge sted. [PAUSE 5 SEK] Find det perfekte sted at sidde eller ligge. [PAUSE 5 SEK] M√¶rk hvordan al sp√¶nding forlader din krop her. [PAUSE 10 SEK] Du kan altid vende tilbage til dette sted. Det er dit indre fristed. [PAUSE 5 SEK]",
                    type: "exercise",
                    totalDuration: 420000 // 7 minutter total
                }
            ]
        };

        // State
        let currentSection = null;
        let currentScriptIndex = 0;
        let isPlaying = true;
        let speechTimeout = null;

        // Initialize
        window.addEventListener('DOMContentLoaded', () => {
            loadPreferences();
            showWelcomeMessage();
            setupVoiceSelector();
            
            setTimeout(() => {
                skipIntro();
            }, 8000);
        });

        function skipIntro() {
            if (window.Tr√∏stMigTTS) {
                window.Tr√∏stMigTTS.stop();
            }
            clearTimeout(speechTimeout);
            document.getElementById('welcomeScreen').classList.add('hidden');
            document.getElementById('mainSelection').classList.add('active');
        }

        function loadPreferences() {
            const savedTheme = localStorage.getItem('theme');
            if (savedTheme === 'dark') {
                document.documentElement.setAttribute('data-theme', 'dark');
                document.querySelector('.theme-toggle').textContent = '‚òÄÔ∏è';
            }
        }

        function showWelcomeMessage() {
            const randomIndex = Math.floor(Math.random() * welcomeMessages.length);
            const messageEl = document.getElementById('welcomeText');
            messageEl.textContent = welcomeMessages[randomIndex];
            
            if (window.Tr√∏stMigTTS) {
                setTimeout(() => {
                    window.Tr√∏stMigTTS.speak(welcomeMessages[randomIndex], {speed: 0.85});
                }, 500);
            }
        }

        function setupVoiceSelector() {
            const selector = document.getElementById('voiceSelector');
            if (window.Tr√∏stMigTTS) {
                const voices = window.Tr√∏stMigTTS.getVoices();
                voices.forEach((voice, index) => {
                    const option = document.createElement('option');
                    option.value = index;
                    option.textContent = voice.description;
                    selector.appendChild(option);
                });
                selector.value = 1;
            }
        }

        function changeVoice() {
            const selector = document.getElementById('voiceSelector');
            const voiceIndex = parseInt(selector.value);
            if (window.Tr√∏stMigTTS) {
                window.Tr√∏stMigTTS.setVoice(voiceIndex);
            }
        }

        function toggleTheme() {
            const html = document.documentElement;
            const btn = document.querySelector('.theme-toggle');
            
            if (html.getAttribute('data-theme') === 'dark') {
                html.removeAttribute('data-theme');
                btn.textContent = 'üåô';
                localStorage.setItem('theme', 'light');
            } else {
                html.setAttribute('data-theme', 'dark');
                btn.textContent = '‚òÄÔ∏è';
                localStorage.setItem('theme', 'dark');
            }
        }

        function startSection(section) {
            currentSection = section;
            currentScriptIndex = 0;
            
            document.getElementById('mainSelection').classList.remove('active');
            document.getElementById('scriptDisplay').classList.add('active');
            
            // Show breathing circle for exercises
            if (section === 'oevelser') {
                document.getElementById('breathingCircle').classList.add('active');
            }
            
            loadScript();
        }

        function loadScript() {
            if (!currentSection) return;
            
            const scripts = scriptsDatabase[currentSection];
            const script = scripts[currentScriptIndex];
            
            if (!script) return;
            
            clearTimeout(speechTimeout);
            
            document.getElementById('scriptContent').textContent = script.content;
            document.getElementById('progressIndicator').textContent = 
                `${currentScriptIndex + 1} / ${scripts.length}`;
            
            // Speak content
            if (window.Tr√∏stMigTTS) {
                window.Tr√∏stMigTTS.stop();
                setTimeout(() => {
                    window.Tr√∏stMigTTS.speak(script.content, {speed: 0.85});
                }, 100);
            }
            
            // Auto-play timing based on content type
            let duration;
            if (script.type === 'exercise' && script.totalDuration) {
                duration = script.totalDuration;
            } else {
                // Estimate based on text length + extra time
                const wordsPerMinute = 120;
                const wordCount = script.content.split(' ').length;
                duration = (wordCount / wordsPerMinute) * 60000 + 5000; // Add 5 sec pause
            }
            
            // Set timer for next script
            speechTimeout = setTimeout(() => {
                nextScript();
            }, duration);
        }

        function nextScript() {
            const scripts = scriptsDatabase[currentSection];
            if (currentScriptIndex < scripts.length - 1) {
                currentScriptIndex++;
                loadScript();
            } else {
                // Loop back for exercises
                if (currentSection === 'oevelser') {
                    currentScriptIndex = 0;
                    loadScript();
                }
            }
        }

        function previousScript() {
            if (currentScriptIndex > 0) {
                currentScriptIndex--;
                loadScript();
            }
        }

        function togglePlay() {
            if (window.Tr√∏stMigTTS) {
                if (isPlaying) {
                    window.Tr√∏stMigTTS.pause();
                    clearTimeout(speechTimeout);
                    document.getElementById('playBtn').innerHTML = '‚ñ∂';
                } else {
                    window.Tr√∏stMigTTS.resume();
                    // Resume timer
                    document.getElementById('playBtn').innerHTML = '‚è∏';
                }
                isPlaying = !isPlaying;
            }
        }

        function closeScript() {
            if (window.Tr√∏stMigTTS) {
                window.Tr√∏stMigTTS.stop();
            }
            
            clearTimeout(speechTimeout);
            
            document.getElementById('scriptDisplay').classList.remove('active');
            document.getElementById('mainSelection').classList.add('active');
            document.getElementById('breathingCircle').classList.remove('active');
            
            currentSection = null;
            currentScriptIndex = 0;
        }
    </script>
</body>
</html>