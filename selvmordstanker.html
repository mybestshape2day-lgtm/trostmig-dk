<!DOCTYPE html>
<html lang="da">
<head>
    
</script>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Selvmordstanker - Tr√∏stMig.dk</title>
    
    <!-- VIGTIG: Central TTS konfiguration -->
    <script src="tts-config.js"></script>
    
    <style>
        * { margin: 0; padding: 0; box-sizing: border-box; }
        
        :root {
            --bg-primary: #f8f9fa;
            --bg-secondary: #ffffff;
            --text-primary: #2d3748;
            --text-secondary: #718096;
            --accent: #7c3aed;
            --accent-hover: #6d28d9;
            --border: #e2e8f0;
            --shadow: rgba(0, 0, 0, 0.1);
            --emergency: #dc2626;
        }
        
        [data-theme="dark"] {
            --bg-primary: #1a202c;
            --bg-secondary: #2d3748;
            --text-primary: #f7fafc;
            --text-secondary: #cbd5e0;
            --accent: #9f7aea;
            --accent-hover: #b794f4;
            --border: #4a5568;
        }
        
        body {
            font-family: -apple-system, BlinkMacSystemFont, 'Segoe UI', sans-serif;
            background: var(--bg-primary);
            color: var(--text-primary);
            min-height: 100vh;
            transition: all 0.3s ease;
        }
        
        .welcome-screen {
            position: fixed;
            top: 0;
            left: 0;
            right: 0;
            bottom: 0;
            background: var(--bg-primary);
            display: flex;
            align-items: center;
            justify-content: center;
            z-index: 1000;
            opacity: 1;
            transition: opacity 1s ease;
        }
        
        .welcome-screen.hidden {
            opacity: 0;
            pointer-events: none;
        }
        
        .welcome-message {
            max-width: 700px;
            padding: 40px;
            text-align: center;
            font-size: 1.5rem;
            line-height: 1.8;
            animation: fadeIn 2s ease;
        }
        
        @keyframes fadeIn {
            from { opacity: 0; transform: translateY(20px); }
            to { opacity: 1; transform: translateY(0); }
        }
        
        .skip-intro {
            position: absolute;
            bottom: 30px;
            right: 30px;
            background: var(--bg-secondary);
            border: 1px solid var(--border);
            padding: 8px 16px;
            border-radius: 20px;
            cursor: pointer;
        }
        
        .nav-header {
            position: fixed;
            top: 0;
            left: 0;
            right: 0;
            background: var(--bg-secondary);
            border-bottom: 1px solid var(--border);
            padding: 20px;
            z-index: 100;
            display: flex;
            justify-content: space-between;
            align-items: center;
        }
        
        .back-link {
            color: var(--accent);
            text-decoration: none;
        }
        
        .nav-controls {
            display: flex;
            gap: 10px;
            align-items: center;
        }
        
        .voice-selector {
            background: var(--bg-primary);
            border: 1px solid var(--border);
            border-radius: 8px;
            padding: 8px 12px;
            color: var(--text-primary);
            cursor: pointer;
        }
        
        .theme-toggle {
            background: var(--bg-primary);
            border: 1px solid var(--border);
            border-radius: 50px;
            padding: 8px 15px;
            cursor: pointer;
            font-size: 1.2rem;
        }
        
        .emergency-notice {
            background: #fee;
            border: 2px solid var(--emergency);
            border-radius: 15px;
            padding: 20px;
            margin: 80px 20px 20px;
            text-align: center;
            max-width: 1200px;
            margin-left: auto;
            margin-right: auto;
        }
        
        [data-theme="dark"] .emergency-notice {
            background: rgba(254, 242, 242, 0.1);
        }
        
        .emergency-notice a {
            color: var(--emergency);
            font-weight: bold;
            text-decoration: none;
            font-size: 1.2rem;
        }
        
        .main-selection {
            display: none;
            padding: 20px;
            max-width: 1200px;
            margin: 0 auto;
        }
        
        .main-selection.active {
            display: block;
            animation: fadeIn 0.5s ease;
        }
        
        .selection-header {
            text-align: center;
            margin-bottom: 50px;
        }
        
        .selection-header h1 {
            font-size: 2.5rem;
            margin-bottom: 10px;
            color: var(--emergency);
        }
        
        .selection-grid {
            display: grid;
            grid-template-columns: repeat(auto-fit, minmax(300px, 1fr));
            gap: 30px;
        }
        
        .selection-card {
            background: var(--bg-secondary);
            border: 2px solid var(--border);
            border-radius: 20px;
            padding: 30px;
            cursor: pointer;
            transition: all 0.3s ease;
            text-align: center;
        }
        
        .selection-card:hover {
            transform: translateY(-5px);
            box-shadow: 0 10px 30px var(--shadow);
            border-color: var(--accent);
        }
        
        .selection-card.urgent {
            border-color: var(--emergency);
            background: linear-gradient(135deg, rgba(220, 38, 38, 0.05) 0%, rgba(220, 38, 38, 0.1) 100%);
        }
        
        .selection-icon {
            font-size: 3rem;
            margin-bottom: 20px;
        }
        
        .script-display {
            display: none;
            position: fixed;
            top: 0;
            left: 0;
            right: 0;
            bottom: 0;
            background: var(--bg-primary);
            z-index: 500;
        }
        
        .script-display.active {
            display: flex;
            flex-direction: column;
            padding-top: 70px;
        }
        
        .script-text {
            flex: 1;
            display: flex;
            align-items: center;
            justify-content: center;
            padding: 40px;
            overflow-y: auto;
        }
        
        .script-content {
            max-width: 800px;
            font-size: 1.3rem;
            line-height: 2;
        }
        
        .controls-bar {
            position: fixed;
            bottom: 30px;
            left: 50%;
            transform: translateX(-50%);
            background: var(--bg-secondary);
            padding: 15px 30px;
            border-radius: 50px;
            box-shadow: 0 5px 20px var(--shadow);
            display: flex;
            gap: 15px;
            align-items: center;
            flex-wrap: wrap;
        }
        
        .control-btn {
            background: var(--accent);
            color: white;
            border: none;
            width: 50px;
            height: 50px;
            border-radius: 50%;
            cursor: pointer;
            font-size: 1.5rem;
        }
        
        .back-to-selection {
            background: var(--bg-secondary);
            border: 1px solid var(--border);
            padding: 10px 20px;
            border-radius: 20px;
            cursor: pointer;
        }
        
        @media (max-width: 768px) {
            .selection-grid { grid-template-columns: 1fr; }
            .script-content { font-size: 1.1rem; }
        }
    </style>
</head>
<body>
    <div class="welcome-screen" id="welcomeScreen">
        <div class="welcome-message" id="welcomeText"></div>
        <button class="skip-intro" onclick="skipIntro()">Spring over</button>
    </div>
    
    <div class="nav-header">
        <a href="index.html" class="back-link" id="backLink">‚Üê Tilbage til forsiden</a>
        <div class="nav-controls">
            <select class="voice-selector" id="voiceSelector" onchange="changeVoice()"></select>
            <button class="theme-toggle" onclick="toggleTheme()">üåô</button>
        </div>
    </div>
    
    <div class="emergency-notice">
        <strong>üÜò AKUT HJ√ÜLP:</strong><br>
        <a href="tel:70201201">Ring Livslinjen 70 20 12 01</a> | 
        <a href="tel:116123">Psykiatrifonden 116 123</a> | 
        <a href="tel:112">112 ved akut fare</a>
    </div>
    
    <div class="main-selection" id="mainSelection">
        <div class="selection-header">
            <h1>üÜò Selvmordstanker</h1>
            <p>Du er ikke alene. Der er hj√¶lp. Du betyder noget.</p>
        </div>
        <div class="selection-grid">
            <div class="selection-card urgent" onclick="startSection('akut')">
                <div class="selection-icon">üõü</div>
                <h2>Lige nu-hj√¶lp</h2>
                <p>N√•r tankerne er overv√¶ldende. Safety planning og √∏jeblikkelig st√∏tte.</p>
            </div>
            <div class="selection-card" onclick="startSection('forstaa')">
                <div class="selection-icon">üí≠</div>
                <h2>Forst√• tankerne</h2>
                <p>Hvad er selvmordstanker? Psykoeducation og validering.</p>
            </div>
            <div class="selection-card" onclick="startSection('overlev')">
                <div class="selection-icon">üåÖ</div>
                <h2>Overlev og voks</h2>
                <p>DBT skills, h√•b og recovery. Du kan komme igennem dette.</p>
            </div>
        </div>
    </div>
    
    <div class="script-display" id="scriptDisplay">
        <div class="script-text">
            <div class="script-content" id="scriptContent"></div>
        </div>
        <div class="controls-bar">
            <button class="control-btn" onclick="previousScript()">‚óÄ</button>
            <button class="control-btn" onclick="togglePlay()" id="playBtn">‚ñ∂</button>
            <button class="control-btn" onclick="nextScript()">‚ñ∂</button>
            <span id="progressIndicator">1 / 40</span>
            <button class="back-to-selection" onclick="backToSelection()">‚Üê Tilbage</button>
        </div>
    </div>
    
    <script>
        const welcomeMessages = [
            "Hvis du l√¶ser dette, er du st√¶rk. At s√∏ge hj√¶lp er modigt. Du er ikke alene.",
            "Selvmordstanker er ikke et tegn p√• svaghed. De er et symptom p√• smerte der kan behandles.",
            "Du fortjener at leve. Din smerte er reel, men den er midlertidig. Der er h√•b.",
            "At du er her nu viser at en del af dig √∏nsker at leve. Lad os st√∏tte den del.",
            "Din v√¶rd er ikke defineret af din smerte. Du betyder noget, is√¶r nu."
        ];
        
        // EVIDENSBASEREDE SCRIPTS - Safety Planning, DBT, Trauma-informeret
        const scriptsDatabase = {
            akut: [
                "Okay. Hvis du har selvmordstanker lige nu. S√• lad mig sige dette. Du er ikke alene. Disse tanker er symptomer p√• smerte. Ikke sandheden om din v√¶rdi.",
                "F√∏rst og fremmest. Er du i umiddelbar fare lige nu? Hvis ja. Ring til et et to. Det er okay at g√∏re det. Din sikkerhed kommer f√∏rst.",
                "Lad os sammen lave en sikkerhedsplan. Trin et. Fjern adgang til farlige midler. Bed nogen om hj√¶lp med dette. Det er vigtigt.",
                "Hvem kan du kontakte lige nu? T√¶nk p√• tre personer. Skriv deres navne ned. Gem nummeret til Livslinjen. Syv nul to nul et to nul et.",
                "Hvad hj√¶lper dig normalt n√•r du har det sv√¶rt? Musik? At g√• en tur? Ring til nogen? Brug det nu.",
                "Okay. Lad os lave grounding sammen. Navngiv fem ting du kan se. Fire ting du kan r√∏re. Tre lyde. To dufte. En smag.",
                "Dine selvmordstanker er ikke dig. De er en reaktion p√• uudholdelig smerte. Smerten kan blive mindre. Det lover jeg.",
                "Lav en aftale med dig selv. Bare for de n√¶ste ti minutter. S√• vil jeg v√¶re her. Efter ti minutter. Endnu ti minutter.",
                "Distraction kan redde liv. Brug isterninger i h√¶nderne. Koldt vand i ansigtet. Intensiv fysisk stimulation. Det afbryder krisen.",
                "Ring til kriselinjen nu. Syv nul to nul et to nul et. De vil ikke d√∏mme. De vil lytte. Du fortjener at blive h√∏rt.",
                "Selvom tankerne siger noget andet. Du har overlevet hundrede procent af dine v√¶rste dage indtil nu. Du kan overleve denne ogs√•.",
                "Lad os skifte fokus fra selvmord til overlevelse. Hvad er den mindste ting der kan hj√¶lpe lige nu? G√∏r bare det.",
                "Dit liv har v√¶rdi. Ogs√• selvom du ikke kan se det nu. Depression lyver. Tankerne lyver. Dit liv betyder noget.",
                "Okay. Tag fem dybe vejrtr√¶kninger med mig. Ind√•nd. En to tre fire. Hold. Ud√•nd. En to tre fire fem seks. Godt.",
                "Means restriction virker. Fjern adgang til metoder. Bed nogen om at opbevare medicin. L√•s v√•ben v√¶k. Ring efter hj√¶lp til dette.",
                "Hvad ville du sige til din bedste ven i denne situation? V√¶r lige s√• venlig mod dig selv. Du fortjener samme medf√∏lelse.",
                "Tanker er ikke handlinger. At have tanken betyder ikke du skal handle p√• den. Du kan observere tanken. Og lade den g√•.",
                "Lav en liste over grunde til at leve. Sm√• ting t√¶ller. Kaffe i morgen. Din kat. Solnedgang. Skriv tre ting nu.",
                "G√• til et offentligt sted. Undg√• isolation. Bibliotek. Cafe. Bare v√¶re blandt mennesker. Connection redder liv.",
                "Din smerte er valid. Men selvmord er en permanent l√∏sning p√• midlertidige problemer. Problemerne kan l√∏ses p√• andre m√•der.",
                "Okay. Hvad er den n√¶ste time? Bare den n√¶ste time. Hvad kan g√∏re den lidt mere utholdelig? G√∏r det nu.",
                "Ring til psykiatrisk skadestue. De er der d√∏gnet rundt. Det er ikke svaghed. Det er styrke at s√∏ge hj√¶lp.",
                "Brug TIPP skills fra DBT. Temperatur. Kold bruser. Intensiv motion. L√∏b. Spring. Paced breathing. Progressive muskelafslapning.",
                "Du beh√∏ver ikke at have h√•b lige nu. Bare v√¶r villig til at lade andre have h√•b for dig. Vi har h√•b for dig.",
                "Selvmordstanker kommer i b√∏lger. De topper og falder. Du er m√•ske i toppen nu. Men b√∏lgen vil falde. Hold ud.",
                "Fort√¶l nogen hvordan du har det. Send en besked. Du beh√∏ver ikke at v√¶re alene med dette. Del byrden.",
                "Dit fremtidige selv vil v√¶re taknemmelig. For at du holdt ud i dag. Selv n√•r det var h√•rdest. Du kan dette.",
                "Lav en overlevelsesplan. Ikke en plan for at d√∏. Men en plan for at overleve natten. Time for time.",
                "Accepter at tankerne er der. K√¶mp ikke mod dem. Observer dem. Lad dem passere som skyer. De g√•r over.",
                "Du har kr√¶fter du ikke kender endnu. Du har overlevet f√∏r. Du kan overleve nu. En time ad gangen.",
                "Crisis passing. Krisen vil g√• over. Det lover statistikken. Ni ud af ti der overlever selvmordsfors√∏g. Er glade for de overlevede.",
                "T√¶nk p√• hvem der ville blive p√•virket. Ikke for at guilte. Men for at huske din forbindelse. Du betyder noget for andre.",
                "Brug opposite action. N√•r tankerne siger isoler dig. Ops√∏g mennesker. N√•r de siger giv op. Tag et lille skridt fremad.",
                "Okay. Hvad kan du g√∏re de n√¶ste fem minutter der er sikker? G√∏r bare det. Fem minutter ad gangen.",
                "Din hjerne er syg lige nu. Som kroppen kan blive syg. Det betyder ikke du er defekt. Det betyder du har brug for hj√¶lp.",
                "Lad os finde din hjemmebase. Dit trygge sted. Kan du g√• derhen nu? Eller forestille dig det? Byg detaljerne.",
                "Selvmordstanker er ikke en karakter defekt. De er et symptom. Symptomer kan behandles. Du kan f√• det bedre.",
                "Gentag dette. Jeg overlever. Jeg er sikker. Jeg finder hj√¶lp. Seks ord. Gentag igen. Det er dit mantra nu.",
                "Okay. Du har gjort det godt ved at komme hertil. Det viser styrke. Forts√¶t. Ring til hj√¶lp. Du er v√¶rd at redde.",
                "Din smerte slutter ikke ved selvmord. Den overf√∏res bare til andre. Der er andre veje ud af smerten. V√¶lg at leve. V√¶lg hj√¶lp."
            ],
            forstaa: [
                "Selvmordstanker betyder ikke du vil d√∏. De betyder du vil have smerten til at stoppe. Det er en vigtig forskel.",
                "Okay. Lad os forst√• hvad der sker. Din hjerne er i krise. Serotonin og andre neurotransmittere er ude af balance.",
                "Psykisk smerte er lige s√• reel som fysisk smerte. Din hjerne registrerer det samme. Det er ikke billede.",
                "Selvmordstanker er ofte et symptom p√• behandlingsbar depression. Behandling virker. Over firs procent f√•r det bedre.",
                "Din pr√¶frontale cortex. Den rationelle t√¶nker. Er offline lige nu. Det er derfor alt f√∏les h√•bl√∏st. Det er symptom ikke sandhed.",
                "Okay. Tunnel vision. Depression giver tunnel vision. Du ser kun m√∏rke. Men der er udgange du ikke kan se nu.",
                "Ambivalens er normal. En del vil leve. En del vil have smerten til at stoppe. Det er okay at v√¶re splittet.",
                "Selvmordstanker kan v√¶re intrusive. Som OCD tanker. De betyder ikke noget om dig. De er symptomer.",
                "Hmm. Mange der har haft selvmordstanker. Ser tilbage og er glade de overlevede. Deres perspektiv √¶ndrede sig.",
                "Din smerte er valid. Men din d√∏mmekraft er p√•virket af sygdom. Som at have feber. Vurderingen er sk√¶v.",
                "Selvmordstanker handler ofte om flugt. Ikke d√∏d. Det er flugt fra uudholdelig smerte. Der er andre flugtveje.",
                "Okay. Forskning viser. De fleste selvmordstanker er kortvarige. Intensiteten falder med tiden. Hold ud.",
                "Din hjerne fort√¶ller dig l√∏gne. At du er en byrde. At ingen vil savne dig. At det aldrig bliver bedre. Alle l√∏gne.",
                "Interpersonel teori om selvmord. Perceived burdensomeness. Thwarted belongingness. Capability. Alle tre kan behandles.",
                "Selvmordstanker er ikke svaghed. De er din hjernes m√•de at signalere SOS. Den siger jeg har brug for hj√¶lp nu.",
                "Hmm. Post traumatisk stress kan give selvmordstanker. Flashbacks. Hyperarousal. Det er reaktion p√• trauma. Behandlingsbar.",
                "Din hjerne s√∏ger at l√∏se et problem. Selvmord ser ud som en l√∏sning. Men det er baseret p√• forvr√¶nget information.",
                "Okay. Katastrofet√¶nkning. All or nothing thinking. Emotional reasoning. Disse cognitive distortions driver tankerne.",
                "Selvmordstanker kan v√¶re del af borderline. Emotionel dysregulering. Men DBT skills virker. Du kan l√¶re at regulere.",
                "Neurobiologi af selvmordstanker. Nedsat serotonin. Hyperaktiv amygdala. Nedsat pr√¶frontal kontrol. Alt behandlingsbart.",
                "Okay. Gateway theory. Tanker beh√∏ver ikke f√∏re til handlinger. Du kan have tanken. Og v√¶lge ikke at handle.",
                "Selvmordstanker kan v√¶re kroniske for nogle. Men intensiteten varierer. I ro perioder kan du bygge beskyttelse.",
                "Hmm. Protective factors. Grunde til at leve. Relationships. Responsibilities. Spiritual beliefs. Fremtidig orientering. Byg disse.",
                "Din smerte er ikke permanent. Selv n√•r det f√∏les s√•dan. Neuroplasticitet betyder hjerne kan hele. Det tager tid.",
                "Okay. Akut selvmordstanker versus kroniske. Akut kr√¶ver √∏jeblikkelig intervention. Kronisk kr√¶ver langsigtet behandling.",
                "Selvmordstanker kan v√¶re p√•virket af medicin. Bivirkninger. Interaktioner. Tal med l√¶ge om medicinjusteringer.",
                "Suicidal ideation versus suicidal intent. Tanken versus planen. Begge kr√¶ver hj√¶lp. Men forskellige interventioner.",
                "Okay. Din hjerne tror selvmord er eneste vej ud. Men der er altid alternativer. Psykiatrisk indl√¶ggelse. Intensiv terapi. ECT.",
                "Hopelessness er kernef√∏lelsen. Aaron Beck viste dette. Men hopelessness kan behandles. Cognitive therapy virker.",
                "Selvmordstanker kan v√¶re connected til specific triggers. Identify triggers. Undg√• dem. Build coping.",
                "Okay. Mange mennesker har selvmordstanker. Du er ikke alene. Det er ikke unormalt ved alvorlig depression.",
                "Din hjerne fors√∏ger at beskytte dig. Ved at overveje flugt. Men den tager fejl af l√∏sningen. Beskyttelse kommer fra hj√¶lp.",
                "Hmm. Selvmordstanker kan komme i b√∏lger. Surf urge. Ride it out. B√∏lgen vil falde. Distract til det sker.",
                "Capability for suicide udvikles over tid. Exposure til smerte. Reduced fear. Men det kan de-escaleres ogs√•.",
                "Okay. Din smerte er temporal. Ikke evig. Neuro-circuits kan rewires. Med behandling. Tid. Support.",
                "Selvmordstanker lyver om fremtiden. Depression lyver. Alt er filter gennem sygdom. Fremtiden er √•ben.",
                "Mental pain killers exists. Terapi. Medicin. ECT. TMS. Ketamine. Der er v√¶rkt√∏jer. Brug dem.",
                "Okay. Meaning making. Viktor Frankl. Man's search for meaning. Selv i smerte. Find purpose. Det beskytter.",
                "Din hjerne kan l√¶re nye pathways. Neurogenese. New neurons. Hope circuits. Det kr√¶ver tid og indsats.",
                "Selvmordstanker er invitation til forandring. Ikke d√∏d. Men forandring i liv. Terapi. Medicin. Relationships. Accept invitationen."
            ],
            overlev: [
                "Okay. Stanley-Brown sikkerhedsplan. En evidensbaseret metode fra 2024. Lad os bygge din personlige plan sammen.",
                "Trin et. Advarselstegn. Hvilke tanker. F√∏lelser. Situationer. Kom inden du f√•r selvmordstanker? Skriv tre ned nu.",
                "Trin to. Interne mestringsstrategier. Ting du kan g√∏re uden andre. G√•. Musik. Koldt vand. Skriv tre strategier.",
                "Okay. Trin tre. Mennesker og steder for afledning. Venner. Cafe. Bibliotek. Aktiviteter der afleder. Skriv tre muligheder.",
                "Trin fire. Personer til hj√¶lp. Familie. Ven. Krisevagten. Skriv navne og numre. Hav dem tilg√¶ngelige.",
                "Trin fem. Professionelle. Din l√¶ge. Psykiater. Livslinjen syv nul to nul et to nul et. Nul en nul syv syv tre tre nul nul. Gem numrene.",
                "Trin seks. Sikkerhed. Fjern farlige midler. Medicin til nabo. V√•ben v√¶k. G√∏r dit hjem sikkert.",
                "Okay. Denne plan virker. Meta-analyse fra 2021 viser tyve procent f√¶rre selvmordsfors√∏g med sikkerhedsplaner.",
                "Kognitiv adf√¶rdsterapi for selvmordsforebyggelse. CBT-SP. Evidens fra 2024 VA guidelines. Den mest st√∏ttede behandling.",
                "Lad os identificere selvmordsdrivere. Hvad g√∏r smerten uudholdelig? Er det ensomhed? Skyldf√∏lelse? H√•pl√∏shed? Navngiv det.",
                "Okay. Udford h√•bl√∏shed. Find et modbevis. Selv lille. En gang noget blev bedre. Et lille h√•b. Byg derp√•.",
                "Probleml√∏sning. Hvad er kerneproblemet? Ikke selvmord. Men smerten. Lav tre alternative l√∏sninger. Evaluer hver.",
                "Okay. Periodisk kontakt efter krise. Ring eller sms ugentligt. Forskning viser det halverer risiko. Vi checker ind.",
                "Grounding i krise. Fem fire tre to en teknik. Fem ting du ser. Fire du m√¶rker. Tre lyde. To dufte. En smag. S√•dan.",
                "Okay. Afledning n√•r tankerne kommer. Intensiv. Isterninger. Koldt bad. L√∏b. Musik h√∏jt. Distrah√©r indtil b√∏lgen falder.",
                "Modsatrettet handling. N√•r tanken siger isoler dig. Ring til ven. N√•r den siger giv op. Tag skridt fremad.",
                "Okay. Midler begr√¶nsning. Nummer et intervention. Fjern adgang. Giv medicin v√¶k. L√•s farlige ting v√¶k. Det redder liv.",
                "Sociale forbindelser. Ensomhed driver selvmord. Ring til en. Hver dag. Bare to minutter. Connection healer.",
                "Okay. Reguler s√∏vn. S√∏vnl√∏shed √∏ger risiko fem gange. Samme sengetid. M√∏rkt rum. Ingen sk√¶rme. Fundamental.",
                "Fysisk aktivitet. Moderat motion dagligt. Reducerer selvmordstanker med tredive procent. G√• tyve minutter.",
                "Okay. Undg√• alkohol. Det √∏ger impulsivitet. Forv√¶rrer depression. Alkohol involveret i fyrre procent af selvmord.",
                "√Örv√•genhed for triggere. Hvad starter tankerne? Dates. Steder. Personer. Undg√• eller forbered.",
                "Okay. Byg v√¶rdier. Hvad betyder noget? Familie? Natur? Hj√¶lpe andre? Lev efter v√¶rdier ikke f√∏lelser.",
                "H√•b kit. Fysisk boks. Billeder. Breve. Musik. Grunde til at leve. √Öbn n√•r krisen kommer.",
                "Okay. Kontakt efter udskrivelse. Ring inden for fyrreotte timer. Forskning fra 2024. Tyve procent f√¶rre genindl√¶ggelser.",
                "Mindfulness for selvmordstanker. Observer tanken. Som sky. Lad den passere. Du er ikke tanken.",
                "Okay. Narrativ terapi. Skriv din historie. Find alternativer. Du er ikke din smerte. Du er forfatter.",
                "Problemfokuseret versus f√∏lelsefokuseret. Kan problemet l√∏ses? Ja. L√∏s det. Nej. Accepter og fokuser p√• f√∏lelser.",
                "Okay. Ketamin for akut krise. Nyeste forskning 2024. Reducerer tanker p√• timer. Tal med psykiater.",
                "Opf√∏lgning. Ugentlige opkald. M√•nedlige check-ins. Vedvarende kontakt. Det virker. Det er evidensen.",
                "Okay. Recovery er mulig. Ni ud af ti der overlever fors√∏g. Er glade de gjorde. Perspektiv √¶ndrer sig.",
                "Mental smerte skala. Nul til ti. Over syv. Ring efter hj√¶lp. Under fem. Brug mestring. Monitor dagligt.",
                "Okay. Commitment. Forpligt dig til at leve. Bare i dag. Forny i morgen. Dag for dag.",
                "Collaborative safety planning. Sammen. Ikke p√•tvunget. Din plan. Dine ord. Vi guider bare.",
                "Okay. Reasons for living. Skriv fem. Sm√• ting t√¶ller. Kaffe. Solopgang. Din kat. Venskab.",
                "Crisis Response Plan. Kortere end sikkerhedsplan. Til akut brug. Kort. Konkret. Actionable.",
                "Okay. Zero suicide filosofi. Suicide er forebyggelig. Systemet skal √¶ndres. Du fortjener optimal care.",
                "Follow-up forskning 2024. Konsekvent kontakt. Reducer risiko med halvtreds procent. Simpelt. Effektivt.",
                "Okay. Du har overlevet indtil nu. Du kan overleve i nat. I morgen. En dag ad gangen.",
                "Recovery tal. Over halvfems procent forbedring med behandling. Din smerte kan mindskes. Der er h√•b."
            ]
        };
        
        // Voice management
        function populateVoiceSelector() {
            const selector = document.getElementById('voiceSelector');
            if (!window.Tr√∏stMigTTS) return;
            
            const voices = window.Tr√∏stMigTTS.getVoices();
            voices.forEach((voice, index) => {
                const option = document.createElement('option');
                option.value = index;
                option.textContent = voice.description;
                selector.appendChild(option);
            });
            
            selector.value = 9;
        }
        
        function changeVoice() {
            const selector = document.getElementById('voiceSelector');
            const voiceIndex = parseInt(selector.value);
            if (window.Tr√∏stMigTTS) {
                window.Tr√∏stMigTTS.setVoice(voiceIndex);
            }
        }
        
        let currentSection = null;
        let currentScriptIndex = 0;
        let isPlaying = false;
        
        window.addEventListener('DOMContentLoaded', () => {
            if (window.Tr√∏stMigTTS) {
                populateVoiceSelector();
                window.Tr√∏stMigTTS.setVoice(9);
            }
            
            const theme = localStorage.getItem('theme');
            if (theme === 'dark') {
                document.documentElement.setAttribute('data-theme', 'dark');
                document.querySelector('.theme-toggle').textContent = '‚òÄÔ∏è';
            }
            
            const randomMsg = welcomeMessages[Math.floor(Math.random() * welcomeMessages.length)];
            document.getElementById('welcomeText').textContent = randomMsg;
            setTimeout(skipIntro, 8000);
        });
        
        function skipIntro() {
            document.getElementById('welcomeScreen').classList.add('hidden');
            document.getElementById('mainSelection').classList.add('active');
        }
        
        function toggleTheme() {
            const html = document.documentElement;
            const btn = document.querySelector('.theme-toggle');
            if (html.getAttribute('data-theme') === 'dark') {
                html.removeAttribute('data-theme');
                btn.textContent = 'üåô';
                localStorage.setItem('theme', 'light');
            } else {
                html.setAttribute('data-theme', 'dark');
                btn.textContent = '‚òÄÔ∏è';
                localStorage.setItem('theme', 'dark');
            }
        }
        
        function startSection(section) {
            currentSection = section;
            currentScriptIndex = 0;
            document.getElementById('mainSelection').classList.remove('active');
            document.getElementById('scriptDisplay').classList.add('active');
            document.getElementById('backLink').style.display = 'none';
            loadScript();
        }
        
        function backToSelection() {
            if (window.speechSynthesis) speechSynthesis.cancel();
            document.getElementById('scriptDisplay').classList.remove('active');
            document.getElementById('mainSelection').classList.add('active');
            document.getElementById('backLink').style.display = 'flex';
            currentSection = null;
            isPlaying = false;
        }
        
        function loadScript() {
            if (!currentSection) return;
            const scripts = scriptsDatabase[currentSection];
            const script = scripts[currentScriptIndex];
            document.getElementById('scriptContent').textContent = script;
            document.getElementById('progressIndicator').textContent = `${currentScriptIndex + 1} / ${scripts.length}`;
            setTimeout(() => speakText(script), 500);
        }
        
        function nextScript() {
            const scripts = scriptsDatabase[currentSection];
            if (currentScriptIndex < scripts.length - 1) {
                currentScriptIndex++;
                loadScript();
            }
        }
        
        function previousScript() {
            if (currentScriptIndex > 0) {
                currentScriptIndex--;
                loadScript();
            }
        }
        
        function togglePlay() {
            if (isPlaying) {
                speechSynthesis.pause();
                isPlaying = false;
                document.getElementById('playBtn').textContent = '‚ñ∂';
            } else {
                if (speechSynthesis.paused) {
                    speechSynthesis.resume();
                } else {
                    loadScript();
                }
                isPlaying = true;
                document.getElementById('playBtn').textContent = '‚è∏';
            }
        }
        
        function speakText(text) {
            if (window.Tr√∏stMigTTS) {
                window.Tr√∏stMigTTS.speak(text);
                isPlaying = true;
                document.getElementById('playBtn').textContent = '‚è∏';
            } else {
                if (!('speechSynthesis' in window)) return;
                speechSynthesis.cancel();
                const utterance = new SpeechSynthesisUtterance(text);
                utterance.lang = 'da-DK';
                utterance.rate = 0.9;
                utterance.onstart = () => {
                    isPlaying = true;
                    document.getElementById('playBtn').textContent = '‚è∏';
                };
                utterance.onend = () => {
                    isPlaying = false;
                    document.getElementById('playBtn').textContent = '‚ñ∂';
                    setTimeout(() => nextScript(), 3000);
                };
                speechSynthesis.speak(utterance);
            }
        }
        
        document.addEventListener('keydown', (e) => {
            if (!document.getElementById('scriptDisplay').classList.contains('active')) return;
            switch(e.key) {
                case ' ':
                    e.preventDefault();
                    togglePlay();
                    break;
                case 'ArrowRight':
                    nextScript();
                    break;
                case 'ArrowLeft':
                    previousScript();
                    break;
                case 'Escape':
                    backToSelection();
                    break;
            }
        });
    </script>
</body>
</html>
